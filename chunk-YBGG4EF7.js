import{a as Zt}from"./chunk-SHXU4ZB7.js";import{a as Ct,c as vt,e as Tt,f as wt,g as Ft}from"./chunk-S76HEK6X.js";import{a as tn,b as nn}from"./chunk-WLIVQ3RG.js";import{a as en}from"./chunk-2SBPQ5PO.js";import{a as on,b as an,c as rn,d as sn,e as ln}from"./chunk-YOIS5LYM.js";import{a as Qt,b as Gt,c as jt}from"./chunk-GAPH4TJR.js";import{a as St,b as It,c as Nt}from"./chunk-JLK6BMKQ.js";import{a as st,c as lt,d as ct}from"./chunk-3GG5JXOG.js";import"./chunk-DEEABJD6.js";import{a as qt,f as Ut,g as Kt,h as Jt}from"./chunk-UQPNZCHR.js";import{j as yt,l as xt,v as Ht,y as Yt,z as Xt}from"./chunk-PZ3WQJJL.js";import{$ as Vt,A as gt,L as At,M as Z,O as kt,P as Dt,R as Et,T as Bt,U as Mt,V as Rt,W as Ot,X as Pt,Y as Lt,Z as Wt,ba as $t,d as zt,m as _t}from"./chunk-WURTGZ7Q.js";import{f as pt,g as ht,h as ft,i as bt}from"./chunk-4RJVJPSO.js";import{Ba as se,Ca as le,D as dt,F as ke,Z as ut,aa as mt,ba as re,da as De,n as fe,r as rt,xa as be,ya as ze,za as Ee}from"./chunk-7PNVVBYH.js";import"./chunk-MHGKYAZL.js";import"./chunk-FHD2U5CN.js";import{$c as he,Ac as A,Ba as xe,Bb as Je,Bc as it,Ca as z,Da as _,Dc as ot,Ec as ae,Fb as B,Fc as C,Gb as et,Gc as we,H as Ye,Hb as L,Hc as Fe,I as J,L as ee,La as x,Lb as b,M as Xe,Ma as te,Mc as at,N as Qe,Nc as Q,Pa as Se,Qa as H,Sb as ne,Ta as de,Tb as d,U as Ge,Ub as Ie,Uc as pe,Vb as w,Wb as tt,X as je,Ya as Ke,a as We,ac as D,b as Ve,cc as Y,cd as N,da as ye,dc as M,ec as R,fa as V,fc as m,fd as Ae,g as U,gc as p,hc as S,ic as ie,jc as oe,ka as Ze,l as ce,lc as E,ma as qe,nc as nt,o as $e,oa as Ue,q as He,ra as $,rb as c,rc as y,s as K,t as P,tb as ue,tc as h,uc as Ne,vc as me,wb as g,x as j,xc as X,yc as W,zc as F}from"./chunk-Q7WSBUFH.js";function wn(i,r){if(i&1&&(ie(0),S(1,"nz-icon",1),oe()),i&2){let e=r.$implicit;c(),d("nzType",e)}}var Fn=["nz-tab-body",""];function An(i,r){}function kn(i,r){if(i&1&&(ie(0),S(1,"nz-icon",1),oe()),i&2){let e=r.$implicit;c(),d("nzType",e)}}var Dn=()=>({minWidth:"46px"}),En=()=>({visible:!1});function Bn(i,r){if(i&1&&(ie(0),C(1),oe()),i&2){let e=h().$implicit;c(),Fe(" ",e.tab.label," ")}}function Mn(i,r){if(i&1){let e=E();m(0,"li",7),y("click",function(){let n=z(e).$implicit,o=h(2);return _(o.onSelect(n))})("contextmenu",function(n){let o=z(e).$implicit,u=h(2);return _(u.onContextmenu(o,n))}),b(1,Bn,2,1,"ng-container",8),p()}if(i&2){let e=r.$implicit;w("ant-tabs-dropdown-menu-item-disabled",e.disabled),d("nzSelected",e.active)("nzDisabled",e.disabled),c(),d("nzStringTemplateOutlet",e.tab.label)("nzStringTemplateOutletContext",Q(6,En))}}function Rn(i,r){if(i&1&&(m(0,"ul",4),M(1,Mn,2,7,"li",6,Y),p()),i&2){let e=h();c(),R(e.items)}}function On(i,r){if(i&1){let e=E();m(0,"button",9),y("click",function(){z(e);let n=h();return _(n.addClicked.emit())}),p()}if(i&2){let e=h();d("addIcon",e.addIcon)}}var Pn=["navWarp"],Ln=["navList"],Wn=["*"];function Vn(i,r){}function $n(i,r){if(i&1&&(m(0,"div",2),b(1,Vn,0,0,"ng-template",8),p()),i&2){let e=h();c(),d("ngTemplateOutlet",e.startExtraContent().templateRef)}}function Hn(i,r){if(i&1){let e=E();m(0,"button",9),y("click",function(){z(e);let n=h();return _(n.addClicked.emit())}),p()}if(i&2){let e=h();d("addIcon",e.addIcon),ne("tabindex",-1)}}function Yn(i,r){}function Xn(i,r){if(i&1&&(m(0,"div",2),b(1,Yn,0,0,"ng-template",8),p()),i&2){let e=h();c(),d("ngTemplateOutlet",e.endExtraContent().templateRef)}}function Qn(i,r){}function Gn(i,r){if(i&1&&(m(0,"div",2),b(1,Qn,0,0,"ng-template",8),p()),i&2){let e=h();c(),d("ngTemplateOutlet",e.extraTemplate)}}var jn=["contentTemplate"],Zn=[[["","nz-tab-link",""]],"*"],qn=["[nz-tab-link]","*"];function Un(i,r){i&1&&me(0)}function Kn(i,r){i&1&&me(0,1)}var Jn=()=>({visible:!0});function ei(i,r){if(i&1&&(ie(0),C(1),oe()),i&2){let e=h().$implicit;c(),Fe(" ",e.label," ")}}function ti(i,r){if(i&1){let e=E();m(0,"button",10),y("click",function(n){z(e);let o=h().$index,u=h(2);return _(u.onClose(o,n))}),p()}if(i&2){let e=h().$implicit;d("closeIcon",e.nzCloseIcon)}}function ni(i,r){if(i&1){let e=E();m(0,"div",6),y("click",function(n){let o=z(e),u=o.$implicit,f=o.$index,v=h(2);return _(v.clickNavItem(u,f,n))})("contextmenu",function(n){let o=z(e).$implicit,u=h(2);return _(u.contextmenuNavItem(o,n))}),m(1,"button",7),b(2,ei,2,1,"ng-container",8)(3,ti,1,1,"button",9),p()()}if(i&2){let e=r.$implicit,t=r.$index,n=h(2);Ie("margin-right",n.position==="horizontal"?n.nzTabBarGutter:null,"px")("margin-bottom",n.position==="vertical"?n.nzTabBarGutter:null,"px"),w("ant-tabs-tab-active",n.nzSelectedIndex===t)("ant-tabs-tab-disabled",e.nzDisabled),c(),d("id",n.getTabContentId(t))("disabled",e.nzDisabled)("tab",e)("active",n.nzSelectedIndex===t),ne("tabIndex",n.getTabIndex(e,t))("aria-disabled",e.nzDisabled)("aria-selected",n.nzSelectedIndex===t&&!n.nzHideAll)("aria-controls",n.getTabContentId(t)),c(),d("nzStringTemplateOutlet",e.label)("nzStringTemplateOutletContext",Q(19,Jn)),c(),D(e.nzClosable&&n.closable&&!e.nzDisabled?3:-1)}}function ii(i,r){if(i&1){let e=E();m(0,"nz-tabs-nav",4),y("tabScroll",function(n){z(e);let o=h();return _(o.nzTabListScroll.emit(n))})("selectFocusedIndex",function(n){z(e);let o=h();return _(o.setSelectedIndex(n))})("addClicked",function(){z(e);let n=h();return _(n.onAdd())}),M(1,ni,4,20,"div",5,Y),p()}if(i&2){let e=h();tt(e.nzTabBarStyle),d("selectedIndex",e.nzSelectedIndex||0)("inkBarAnimated",e.inkBarAnimated)("addable",e.addable)("addIcon",e.nzAddIcon)("hideBar",e.nzHideAll)("position",e.position)("extraTemplate",e.nzTabBarExtraContent)("extraContents",e.extraContents()),c(),R(e.tabs)}}function oi(i,r){}function ai(i,r){if(i&1&&b(0,oi,0,0,"ng-template",11),i&2){h();let e=ae(4);d("ngTemplateOutlet",e)}}function ri(i,r){}function si(i,r){if(i&1&&b(0,ri,0,0,"ng-template",11),i&2){h(2);let e=ae(4);d("ngTemplateOutlet",e)}}function li(i,r){if(i&1&&b(0,si,1,1,null,11),i&2){let e=h().$index,t=h(2);D(t.nzSelectedIndex===e?0:-1)}}function ci(i,r){}function di(i,r){if(i&1&&b(0,ci,0,0,"ng-template",11),i&2){h(2);let e=ae(4);d("ngTemplateOutlet",e)}}function ui(i,r){if(i&1&&b(0,di,1,1,null,11),i&2){let e=h(),t=e.$implicit,n=e.$index,o=h(2);D(o.nzSelectedIndex===n||t.hasBeenActive?0:-1)}}function mi(i,r){if(i&1&&S(0,"div",12),i&2){let e=h(),t=e.$implicit,n=e.$index,o=h(2);d("id",o.getTabContentId(n))("active",o.nzSelectedIndex===n)("content",t.content)("animated",o.tabPaneAnimated),ne("aria-labelledby",o.getTabContentId(n))}}function pi(i,r){if(i&1&&b(0,ai,1,1,null,11)(1,li,1,1)(2,ui,1,1)(3,mi,1,5,"ng-template",null,0,pe),i&2){let e=r.$implicit,t=h(2);D(e.nzForceRender?0:t.nzDestroyInactiveTabPane?1:2)}}function hi(i,r){if(i&1&&M(0,pi,5,1,null,null,Y),i&2){let e=h();R(e.tabs)}}var Be=class{index;tab},Ce=(()=>{class i{elementRef;addIcon="plus";element;constructor(e){this.elementRef=e,this.element=this.elementRef.nativeElement}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}static \u0275fac=function(t){return new(t||i)(g(H))};static \u0275cmp=B({type:i,selectors:[["nz-tab-add-button"],["button","nz-tab-add-button",""]],hostAttrs:["aria-label","Add tab","type","button",1,"ant-tabs-nav-add"],inputs:{addIcon:"addIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nzTheme","outline",3,"nzType"]],template:function(t,n){t&1&&b(0,wn,2,1,"ng-container",0),t&2&&d("nzStringTemplateOutlet",n.addIcon)},dependencies:[le,se,ze,be],encapsulation:2})}return i})(),cn=(()=>{class i{position=Se("end",{alias:"nzTabBarExtraContent"});templateRef=$(ue);static \u0275fac=function(t){return new(t||i)};static \u0275dir=L({type:i,selectors:[["","nzTabBarExtraContent","",5,"nz-tabset"]],inputs:{position:[1,"nzTabBarExtraContent","position"]}})}return i})(),fi=(()=>{class i{content=null;active=!1;animated=!0;static \u0275fac=function(t){return new(t||i)};static \u0275cmp=B({type:i,selectors:[["","nz-tab-body",""]],hostAttrs:[1,"ant-tabs-tabpane"],hostVars:10,hostBindings:function(t,n){t&2&&(nt("@tabSwitchMotion",n.active?"enter":"leave")("@.disabled",!n.animated),ne("tabindex",n.active?0:-1)("aria-hidden",!n.active),Ie("overflow-y",n.animated?n.active?null:"none":null),w("ant-tabs-tabpane-active",n.active)("ant-tabs-tabpane-hidden",n.animated?null:!n.active))},inputs:{content:"content",active:"active",animated:"animated"},exportAs:["nzTabBody"],attrs:Fn,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,n){t&1&&b(0,An,0,0,"ng-template",0),t&2&&d("ngTemplateOutlet",n.content)},dependencies:[fe],encapsulation:2,data:{animation:[gt]},changeDetection:0})}return i})(),hn=(()=>{class i{closeIcon="close";static \u0275fac=function(t){return new(t||i)};static \u0275cmp=B({type:i,selectors:[["nz-tab-close-button"],["button","nz-tab-close-button",""]],hostAttrs:["aria-label","Close tab","type","button",1,"ant-tabs-tab-remove"],inputs:{closeIcon:"closeIcon"},decls:1,vars:1,consts:[[4,"nzStringTemplateOutlet"],["nzTheme","outline",3,"nzType"]],template:function(t,n){t&1&&b(0,kn,2,1,"ng-container",0),t&2&&d("nzStringTemplateOutlet",n.closeIcon)},dependencies:[le,se,ze,be],encapsulation:2})}return i})(),bi=(()=>{class i{templateRef=$(ue,{host:!0});static \u0275fac=function(t){return new(t||i)};static \u0275dir=L({type:i,selectors:[["ng-template","nzTabLink",""]],exportAs:["nzTabLinkTemplate"]})}return i})(),fn=(()=>{class i{elementRef;routerLink=$(ct,{self:!0,optional:!0});constructor(e){this.elementRef=e}static \u0275fac=function(t){return new(t||i)(g(H))};static \u0275dir=L({type:i,selectors:[["a","nz-tab-link",""]],exportAs:["nzTabLink"]})}return i})(),bn=(()=>{class i{elementRef;disabled=!1;tab;active=!1;el;parentElement;constructor(e){this.elementRef=e,this.el=e.nativeElement,this.parentElement=this.el.parentElement}focus(){this.el.focus()}get width(){return this.parentElement.offsetWidth}get height(){return this.parentElement.offsetHeight}get left(){return this.parentElement.offsetLeft}get top(){return this.parentElement.offsetTop}static \u0275fac=function(t){return new(t||i)(g(H))};static \u0275dir=L({type:i,selectors:[["","nzTabNavItem",""]],inputs:{disabled:[2,"disabled","disabled",N],tab:"tab",active:[2,"active","active",N]}})}return i})(),Me=(()=>{class i{cdr;elementRef;items=[];addable=!1;addIcon="plus";addClicked=new x;selected=new x;closeAnimationWaitTimeoutId;menuOpened=!1;element;constructor(e,t){this.cdr=e,this.elementRef=t,this.element=this.elementRef.nativeElement}onSelect(e){e.disabled||(e.tab.nzClick.emit(),this.selected.emit(e))}onContextmenu(e,t){e.disabled||e.tab.nzContextmenu.emit(t)}showItems(){clearTimeout(this.closeAnimationWaitTimeoutId),this.menuOpened=!0,this.cdr.markForCheck()}menuVisChange(e){e||(this.closeAnimationWaitTimeoutId=setTimeout(()=>{this.menuOpened=!1,this.cdr.markForCheck()},150))}getElementWidth(){return this.element?.offsetWidth||0}getElementHeight(){return this.element?.offsetHeight||0}ngOnDestroy(){clearTimeout(this.closeAnimationWaitTimeoutId)}static \u0275fac=function(t){return new(t||i)(g(he),g(H))};static \u0275cmp=B({type:i,selectors:[["nz-tab-nav-operation"]],hostAttrs:[1,"ant-tabs-nav-operations"],hostVars:2,hostBindings:function(t,n){t&2&&w("ant-tabs-nav-operations-hidden",n.items.length===0)},inputs:{items:"items",addable:[2,"addable","addable",N],addIcon:"addIcon"},outputs:{addClicked:"addClicked",selected:"selected"},exportAs:["nzTabNavOperation"],decls:7,vars:6,consts:[["dropdownTrigger","nzDropdown"],["menu","nzDropdownMenu"],["nz-dropdown","","type","button","tabindex","-1","aria-hidden","true","nzOverlayClassName","nz-tabs-dropdown",1,"ant-tabs-nav-more",3,"nzVisibleChange","mouseenter","nzDropdownMenu","nzOverlayStyle","nzMatchWidthElement"],["nzType","ellipsis"],["nz-menu",""],["nz-tab-add-button","",3,"addIcon"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"ant-tabs-dropdown-menu-item-disabled","nzSelected","nzDisabled"],["nz-menu-item","",1,"ant-tabs-dropdown-menu-item",3,"click","contextmenu","nzSelected","nzDisabled"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["nz-tab-add-button","",3,"click","addIcon"]],template:function(t,n){if(t&1){let o=E();m(0,"button",2,0),y("nzVisibleChange",function(f){return z(o),_(n.menuVisChange(f))})("mouseenter",function(){return z(o),_(n.showItems())}),S(2,"nz-icon",3),p(),m(3,"nz-dropdown-menu",null,1),b(5,Rn,3,0,"ul",4),p(),b(6,On,1,1,"button",5)}if(t&2){let o=ae(4);d("nzDropdownMenu",o)("nzOverlayStyle",Q(5,Dn))("nzMatchWidthElement",null),c(5),D(n.menuOpened?5:-1),c(),D(n.addable?6:-1)}},dependencies:[ze,be,le,se,Ce,Ft,Tt,vt,Ct,wt],encapsulation:2,changeDetection:0})}return i})(),zi=.1,dn=.01,_e=20,un=.995**_e,_i=(()=>{class i{ngZone;elementRef;lastWheelDirection=null;lastWheelTimestamp=0;lastTimestamp=0;lastTimeDiff=0;lastMixedWheel=0;lastWheelPrevent=!1;touchPosition=null;lastOffset=null;motion=-1;unsubscribe=()=>{};offsetChange=new x;tabScroll=new x;constructor(e,t){this.ngZone=e,this.elementRef=t}ngOnInit(){this.unsubscribe=this.ngZone.runOutsideAngular(()=>{let e=this.elementRef.nativeElement,t=J(e,"wheel"),n=J(e,"touchstart"),o=J(e,"touchmove"),u=J(e,"touchend"),f=new U;return f.add(this.subscribeWrap("wheel",t,this.onWheel)),f.add(this.subscribeWrap("touchstart",n,this.onTouchStart)),f.add(this.subscribeWrap("touchmove",o,this.onTouchMove)),f.add(this.subscribeWrap("touchend",u,this.onTouchEnd)),()=>{f.unsubscribe()}})}subscribeWrap(e,t,n){return t.subscribe(o=>{this.tabScroll.emit({type:e,event:o}),o.defaultPrevented||n(o)})}onTouchEnd=e=>{if(!this.touchPosition)return;let t=this.lastOffset,n=this.lastTimeDiff;if(this.lastOffset=this.touchPosition=null,t){let o=t.x/n,u=t.y/n,f=Math.abs(o),v=Math.abs(u);if(Math.max(f,v)<zi)return;let k=o,O=u;this.motion=window.setInterval(()=>{if(Math.abs(k)<dn&&Math.abs(O)<dn){window.clearInterval(this.motion);return}k*=un,O*=un,this.onOffset(k*_e,O*_e,e)},_e)}};onTouchMove=e=>{if(!this.touchPosition)return;e.preventDefault();let{screenX:t,screenY:n}=e.touches[0],o=t-this.touchPosition.x,u=n-this.touchPosition.y;this.onOffset(o,u,e);let f=Date.now();this.lastTimeDiff=f-this.lastTimestamp,this.lastTimestamp=f,this.lastOffset={x:o,y:u},this.touchPosition={x:t,y:n}};onTouchStart=e=>{let{screenX:t,screenY:n}=e.touches[0];this.touchPosition={x:t,y:n},window.clearInterval(this.motion)};onWheel=e=>{let{deltaX:t,deltaY:n}=e,o,u=Math.abs(t),f=Math.abs(n);u===f?o=this.lastWheelDirection==="x"?t:n:u>f?(o=t,this.lastWheelDirection="x"):(o=n,this.lastWheelDirection="y");let v=Date.now(),k=Math.abs(o);(v-this.lastWheelTimestamp>100||k-this.lastMixedWheel>10)&&(this.lastWheelPrevent=!1),this.onOffset(-o,-o,e),(e.defaultPrevented||this.lastWheelPrevent)&&(this.lastWheelPrevent=!0),this.lastWheelTimestamp=v,this.lastMixedWheel=k};onOffset(e,t,n){this.ngZone.run(()=>{this.offsetChange.emit({x:e,y:t,event:n})})}ngOnDestroy(){this.unsubscribe()}static \u0275fac=function(t){return new(t||i)(g(te),g(H))};static \u0275dir=L({type:i,selectors:[["","nzTabScrollList",""]],outputs:{offsetChange:"offsetChange",tabScroll:"tabScroll"}})}return i})(),mn=(()=>{class i{elementRef;ngZone;position="horizontal";animated=!0;animationMode=$(Ke,{optional:!0});get _animated(){return this.animationMode!=="NoopAnimations"&&this.animated}constructor(e,t){this.elementRef=e,this.ngZone=t}alignToElement(e){this.ngZone.runOutsideAngular(()=>{De(()=>this.setStyles(e))})}setStyles(e){let t=this.elementRef.nativeElement;this.position==="horizontal"?(t.style.top="",t.style.height="",t.style.left=this.getLeftPosition(e),t.style.width=this.getElementWidth(e)):(t.style.left="",t.style.width="",t.style.top=this.getTopPosition(e),t.style.height=this.getElementHeight(e))}getLeftPosition(e){return e?`${e.offsetLeft||0}px`:"0"}getElementWidth(e){return e?`${e.offsetWidth||0}px`:"0"}getTopPosition(e){return e?`${e.offsetTop||0}px`:"0"}getElementHeight(e){return e?`${e.offsetHeight||0}px`:"0"}static \u0275fac=function(t){return new(t||i)(g(H),g(te))};static \u0275dir=L({type:i,selectors:[["nz-tabs-ink-bar"],["","nz-tabs-ink-bar",""]],hostAttrs:[1,"ant-tabs-ink-bar"],hostVars:2,hostBindings:function(t,n){t&2&&w("ant-tabs-ink-bar-animated",n._animated)},inputs:{position:"position",animated:"animated"}})}return i})(),gi=typeof requestAnimationFrame<"u"?He:$e,pn=150,Re=(()=>{class i{cdr;ngZone;viewportRuler;nzResizeObserver;dir;indexFocused=new x;selectFocusedIndex=new x;addClicked=new x;tabScroll=new x;position="horizontal";addable=!1;hideBar=!1;addIcon="plus";inkBarAnimated=!0;extraTemplate;extraContents=Se.required();startExtraContent=Ae(()=>this.extraContents().find(e=>e.position()==="start"));endExtraContent=Ae(()=>this.extraContents().find(e=>e.position()==="end"));get selectedIndex(){return this._selectedIndex}set selectedIndex(e){let t=ke(e);this._selectedIndex!==t&&(this._selectedIndex=e,this.selectedIndexChanged=!0,this.keyManager&&this.keyManager.updateActiveItem(e))}navWarpRef;navListRef;operationRef;addBtnRef;inkBar;items;get focusIndex(){return this.keyManager?this.keyManager.activeItemIndex:0}set focusIndex(e){!this.isValidIndex(e)||this.focusIndex===e||!this.keyManager||this.keyManager.setActiveItem(e)}get showAddButton(){return this.hiddenItems.length===0&&this.addable}translate=null;transformX=0;transformY=0;pingLeft=!1;pingRight=!1;pingTop=!1;pingBottom=!1;hiddenItems=[];keyManager;destroy$=new ce;_selectedIndex=0;wrapperWidth=0;wrapperHeight=0;scrollListWidth=0;scrollListHeight=0;operationWidth=0;operationHeight=0;addButtonWidth=0;addButtonHeight=0;selectedIndexChanged=!1;lockAnimationTimeoutId;cssTransformTimeWaitingId;constructor(e,t,n,o,u){this.cdr=e,this.ngZone=t,this.viewportRuler=n,this.nzResizeObserver=o,this.dir=u}ngAfterViewInit(){let e=this.dir?this.dir.change.asObservable():j(null),t=this.viewportRuler.change(150),n=()=>{this.updateScrollListPosition(),this.alignInkBarToSelectedTab()};this.keyManager=new Xt(this.items).withHorizontalOrientation(this.getLayoutDirection()).withWrap(),this.keyManager.updateActiveItem(this.selectedIndex),De(n),ee(this.nzResizeObserver.observe(this.navWarpRef),this.nzResizeObserver.observe(this.navListRef)).pipe(V(this.destroy$),Qe(16,gi)).subscribe(()=>{n()}),ee(e,t,this.items.changes).pipe(V(this.destroy$)).subscribe(()=>{Promise.resolve().then(n),this.keyManager.withHorizontalOrientation(this.getLayoutDirection())}),this.keyManager.change.pipe(V(this.destroy$)).subscribe(o=>{this.indexFocused.emit(o),this.setTabFocus(o),this.scrollToTab(this.keyManager.activeItem)})}ngAfterContentChecked(){this.selectedIndexChanged&&(this.updateScrollListPosition(),this.alignInkBarToSelectedTab(),this.selectedIndexChanged=!1,this.cdr.markForCheck())}ngOnDestroy(){clearTimeout(this.lockAnimationTimeoutId),clearTimeout(this.cssTransformTimeWaitingId),this.destroy$.next(),this.destroy$.complete()}onSelectedFromMenu(e){let t=this.items.toArray().findIndex(n=>n===e);t!==-1&&(this.keyManager.updateActiveItem(t),this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this.scrollToTab(e)))}onOffsetChange(e){if(this.position==="horizontal"){if(!this.lockAnimationTimeoutId&&(this.transformX>=0&&e.x>0||this.transformX<=this.wrapperWidth-this.scrollListWidth&&e.x<0))return;e.event.preventDefault(),this.transformX=this.clampTransformX(this.transformX+e.x),this.setTransform(this.transformX,0)}else{if(!this.lockAnimationTimeoutId&&(this.transformY>=0&&e.y>0||this.transformY<=this.wrapperHeight-this.scrollListHeight&&e.y<0))return;e.event.preventDefault(),this.transformY=this.clampTransformY(this.transformY+e.y),this.setTransform(0,this.transformY)}this.lockAnimation(),this.setVisibleRange(),this.setPingStatus()}handleKeydown(e){let t=this.navWarpRef.nativeElement.contains(e.target);if(!(_t(e)||!t))switch(e.keyCode){case 37:case 38:case 39:case 40:this.lockAnimation(),this.keyManager.onKeydown(e);break;case 13:case 32:this.focusIndex!==this.selectedIndex&&this.selectFocusedIndex.emit(this.focusIndex);break;default:this.keyManager.onKeydown(e)}}isValidIndex(e){if(!this.items)return!0;let t=this.items?this.items.toArray()[e]:null;return!!t&&!t.disabled}scrollToTab(e){if(!this.items.find(n=>n===e))return;let t=this.items.toArray();if(this.position==="horizontal"){let n=this.transformX;if(this.getLayoutDirection()==="rtl"){let o=t[0].left+t[0].width-e.left-e.width;o<this.transformX?n=o:o+e.width>this.transformX+this.wrapperWidth&&(n=o+e.width-this.wrapperWidth)}else e.left<-this.transformX?n=-e.left:e.left+e.width>-this.transformX+this.wrapperWidth&&(n=-(e.left+e.width-this.wrapperWidth));this.transformX=n,this.transformY=0,this.setTransform(n,0)}else{let n=this.transformY;e.top<-this.transformY?n=-e.top:e.top+e.height>-this.transformY+this.wrapperHeight&&(n=-(e.top+e.height-this.wrapperHeight)),this.transformY=n,this.transformX=0,this.setTransform(0,n)}clearTimeout(this.cssTransformTimeWaitingId),this.cssTransformTimeWaitingId=setTimeout(()=>{this.setVisibleRange()},pn)}lockAnimation(){this.lockAnimationTimeoutId||this.ngZone.runOutsideAngular(()=>{this.navListRef.nativeElement.style.transition="none",this.lockAnimationTimeoutId=setTimeout(()=>{this.navListRef.nativeElement.style.transition="",this.lockAnimationTimeoutId=void 0},pn)})}setTransform(e,t){this.navListRef.nativeElement.style.transform=`translate(${e}px, ${t}px)`}clampTransformX(e){let t=this.wrapperWidth-this.scrollListWidth;return this.getLayoutDirection()==="rtl"?Math.max(Math.min(t,e),0):Math.min(Math.max(t,e),0)}clampTransformY(e){return Math.min(Math.max(this.wrapperHeight-this.scrollListHeight,e),0)}updateScrollListPosition(){this.resetSizes(),this.transformX=this.clampTransformX(this.transformX),this.transformY=this.clampTransformY(this.transformY),this.setVisibleRange(),this.setPingStatus(),this.keyManager&&(this.keyManager.updateActiveItem(this.keyManager.activeItemIndex),this.keyManager.activeItem&&this.scrollToTab(this.keyManager.activeItem))}resetSizes(){this.addButtonWidth=this.addBtnRef?this.addBtnRef.getElementWidth():0,this.addButtonHeight=this.addBtnRef?this.addBtnRef.getElementHeight():0,this.operationWidth=this.operationRef.getElementWidth(),this.operationHeight=this.operationRef.getElementHeight(),this.wrapperWidth=this.navWarpRef.nativeElement.offsetWidth||0,this.wrapperHeight=this.navWarpRef.nativeElement.offsetHeight||0,this.scrollListHeight=this.navListRef.nativeElement.offsetHeight||0,this.scrollListWidth=this.navListRef.nativeElement.offsetWidth||0}alignInkBarToSelectedTab(){let e=this.items&&this.items.length?this.items.toArray()[this.selectedIndex]:null,t=e?e.elementRef.nativeElement:null;t&&this.inkBar.alignToElement(t.parentElement)}setPingStatus(){let e={top:!1,right:!1,bottom:!1,left:!1},t=this.navWarpRef.nativeElement;this.position==="horizontal"?this.getLayoutDirection()==="rtl"?(e.right=this.transformX>0,e.left=this.transformX+this.wrapperWidth<this.scrollListWidth):(e.left=this.transformX<0,e.right=-this.transformX+this.wrapperWidth<this.scrollListWidth):(e.top=this.transformY<0,e.bottom=-this.transformY+this.wrapperHeight<this.scrollListHeight),Object.keys(e).forEach(n=>{let o=`ant-tabs-nav-wrap-ping-${n}`;e[n]?t.classList.add(o):t.classList.remove(o)})}setVisibleRange(){let e,t,n,o,u,f,v=this.items.toArray(),k={width:0,height:0,left:0,top:0,right:0},O=T=>{let G,Te=v[T]||k;return t==="right"?G=v[0].left+v[0].width-v[T].left-v[T].width:G=Te[t],G};this.position==="horizontal"?(e="width",o=this.wrapperWidth,u=this.scrollListWidth-(this.hiddenItems.length?this.operationWidth:0),f=this.addButtonWidth,n=Math.abs(this.transformX),this.getLayoutDirection()==="rtl"?(t="right",this.pingRight=this.transformX>0,this.pingLeft=this.transformX+this.wrapperWidth<this.scrollListWidth):(this.pingLeft=this.transformX<0,this.pingRight=-this.transformX+this.wrapperWidth<this.scrollListWidth,t="left")):(e="height",o=this.wrapperHeight,u=this.scrollListHeight-(this.hiddenItems.length?this.operationHeight:0),f=this.addButtonHeight,t="top",n=-this.transformY,this.pingTop=this.transformY<0,this.pingBottom=-this.transformY+this.wrapperHeight<this.scrollListHeight);let q=o;if(u+f>o&&(q=o-f),!v.length){this.hiddenItems=[],this.cdr.markForCheck();return}let ve=v.length,s=ve;for(let T=0;T<ve;T+=1){let G=O(T),Te=v[T]||k;if(G+Te[e]>n+q){s=T-1;break}}let a=0;for(let T=ve-1;T>=0;T-=1)if(O(T)<n){a=T+1;break}let l=v.slice(0,a),I=v.slice(s+1);this.hiddenItems=[...l,...I],this.cdr.markForCheck()}getLayoutDirection(){return this.dir&&this.dir.value==="rtl"?"rtl":"ltr"}setTabFocus(e){}ngOnChanges(e){let{position:t}=e;t&&!t.isFirstChange()&&(this.alignInkBarToSelectedTab(),this.lockAnimation(),this.updateScrollListPosition())}static \u0275fac=function(t){return new(t||i)(g(he),g(te),g(zt),g(en),g(Ee))};static \u0275cmp=B({type:i,selectors:[["nz-tabs-nav"]],contentQueries:function(t,n,o){if(t&1&&X(o,bn,5),t&2){let u;F(u=A())&&(n.items=u)}},viewQuery:function(t,n){if(t&1&&(W(Pn,7),W(Ln,7),W(Me,7),W(Ce,5),W(mn,7)),t&2){let o;F(o=A())&&(n.navWarpRef=o.first),F(o=A())&&(n.navListRef=o.first),F(o=A())&&(n.operationRef=o.first),F(o=A())&&(n.addBtnRef=o.first),F(o=A())&&(n.inkBar=o.first)}},hostAttrs:[1,"ant-tabs-nav"],hostBindings:function(t,n){t&1&&y("keydown",function(u){return n.handleKeydown(u)})},inputs:{position:"position",addable:[2,"addable","addable",N],hideBar:[2,"hideBar","hideBar",N],addIcon:"addIcon",inkBarAnimated:"inkBarAnimated",extraTemplate:"extraTemplate",extraContents:[1,"extraContents"],selectedIndex:"selectedIndex"},outputs:{indexFocused:"indexFocused",selectFocusedIndex:"selectFocusedIndex",addClicked:"addClicked",tabScroll:"tabScroll"},exportAs:["nzTabsNav"],features:[xe],ngContentSelectors:Wn,decls:11,vars:17,consts:[["navWarp",""],["navList",""],[1,"ant-tabs-extra-content"],[1,"ant-tabs-nav-wrap"],["nzTabScrollList","","role","tablist",1,"ant-tabs-nav-list",3,"offsetChange","tabScroll"],["role","tab","nz-tab-add-button","",3,"addIcon"],["nz-tabs-ink-bar","",3,"hidden","position","animated"],[3,"addClicked","selected","addIcon","addable","items"],[3,"ngTemplateOutlet"],["role","tab","nz-tab-add-button","",3,"click","addIcon"]],template:function(t,n){if(t&1){let o=E();Ne(),b(0,$n,2,1,"div",2),m(1,"div",3,0)(3,"div",4,1),y("offsetChange",function(f){return z(o),_(n.onOffsetChange(f))})("tabScroll",function(f){return z(o),_(n.tabScroll.emit(f))}),me(5),b(6,Hn,1,2,"button",5),S(7,"div",6),p()(),m(8,"nz-tab-nav-operation",7),y("addClicked",function(){return z(o),_(n.addClicked.emit())})("selected",function(f){return z(o),_(n.onSelectedFromMenu(f))}),p(),b(9,Xn,2,1,"div",2)(10,Gn,2,1,"div",2)}t&2&&(D(n.startExtraContent()?0:-1),c(),w("ant-tabs-nav-wrap-ping-left",n.pingLeft)("ant-tabs-nav-wrap-ping-right",n.pingRight)("ant-tabs-nav-wrap-ping-top",n.pingTop)("ant-tabs-nav-wrap-ping-bottom",n.pingBottom),c(5),D(n.showAddButton?6:-1),c(),d("hidden",n.hideBar)("position",n.position)("animated",n.inkBarAnimated),c(),d("addIcon",n.addIcon)("addable",n.addable)("items",n.hiddenItems),c(),D(n.endExtraContent()?9:n.extraTemplate?10:-1))},dependencies:[_i,Ce,mn,Me,fe],encapsulation:2,changeDetection:0})}return i})(),Ci=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275dir=L({type:i,selectors:[["","nz-tab",""]],exportAs:["nzTab"]})}return i})(),zn=new Ue("NZ_TAB_SET"),Oe=(()=>{class i{nzTitle="";nzClosable=!1;nzCloseIcon="close";nzDisabled=!1;nzForceRender=!1;nzSelect=new x;nzDeselect=new x;nzClick=new x;nzContextmenu=new x;nzTabLinkTemplateDirective;template=null;linkDirective;contentTemplate;isActive=!1;hasBeenActive=!1;position=null;origin=null;closestTabSet=$(zn);stateChanges=new ce;get content(){return this.template||this.contentTemplate}get label(){return this.nzTitle||this.nzTabLinkTemplateDirective?.templateRef}ngOnChanges(e){let{nzTitle:t,nzDisabled:n,nzForceRender:o}=e;(t||n||o)&&this.stateChanges.next()}ngOnDestroy(){this.stateChanges.complete()}setActive(e){this.isActive=e,e&&(this.hasBeenActive=!0)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=B({type:i,selectors:[["nz-tab"]],contentQueries:function(t,n,o){if(t&1&&(X(o,bi,5),X(o,Ci,5,ue),X(o,fn,5)),t&2){let u;F(u=A())&&(n.nzTabLinkTemplateDirective=u.first),F(u=A())&&(n.template=u.first),F(u=A())&&(n.linkDirective=u.first)}},viewQuery:function(t,n){if(t&1&&W(jn,7),t&2){let o;F(o=A())&&(n.contentTemplate=o.first)}},inputs:{nzTitle:"nzTitle",nzClosable:[2,"nzClosable","nzClosable",N],nzCloseIcon:"nzCloseIcon",nzDisabled:[2,"nzDisabled","nzDisabled",N],nzForceRender:[2,"nzForceRender","nzForceRender",N]},outputs:{nzSelect:"nzSelect",nzDeselect:"nzDeselect",nzClick:"nzClick",nzContextmenu:"nzContextmenu"},exportAs:["nzTab"],features:[xe],ngContentSelectors:qn,decls:4,vars:0,consts:[["tabLinkTemplate",""],["contentTemplate",""]],template:function(t,n){t&1&&(Ne(Zn),b(0,Un,1,0,"ng-template",null,0,pe)(2,Kn,1,0,"ng-template",null,1,pe))},encapsulation:2,changeDetection:0})}return i})(),vi="tabs",Ti=0,Pe=(()=>{let i,r=[],e=[],t,n=[],o=[],u,f=[],v=[],k,O=[],q=[];return class ge{static{let s=typeof Symbol=="function"&&Symbol.metadata?Object.create(null):void 0;i=[re()],t=[re()],u=[re()],k=[re()],K(null,null,i,{kind:"field",name:"nzType",static:!1,private:!1,access:{has:a=>"nzType"in a,get:a=>a.nzType,set:(a,l)=>{a.nzType=l}},metadata:s},r,e),K(null,null,t,{kind:"field",name:"nzSize",static:!1,private:!1,access:{has:a=>"nzSize"in a,get:a=>a.nzSize,set:(a,l)=>{a.nzSize=l}},metadata:s},n,o),K(null,null,u,{kind:"field",name:"nzAnimated",static:!1,private:!1,access:{has:a=>"nzAnimated"in a,get:a=>a.nzAnimated,set:(a,l)=>{a.nzAnimated=l}},metadata:s},f,v),K(null,null,k,{kind:"field",name:"nzTabBarGutter",static:!1,private:!1,access:{has:a=>"nzTabBarGutter"in a,get:a=>a.nzTabBarGutter,set:(a,l)=>{a.nzTabBarGutter=l}},metadata:s},O,q),s&&Object.defineProperty(this,Symbol.metadata,{enumerable:!0,configurable:!0,writable:!0,value:s})}nzConfigService;ngZone;cdr;directionality;_nzModuleName=vi;get nzSelectedIndex(){return this.selectedIndex}set nzSelectedIndex(s){this.indexToSelect=ke(s,null)}nzTabPosition="top";nzTabBarExtraContent;nzCanDeactivate=null;nzAddIcon="plus";nzTabBarStyle=null;nzType=P(this,r,"line");nzSize=(P(this,e),P(this,n,"default"));nzAnimated=(P(this,o),P(this,f,!0));nzTabBarGutter=(P(this,v),P(this,O,void 0));nzHideAdd=(P(this,q),!1);nzCentered=!1;nzHideAll=!1;nzLinkRouter=!1;nzLinkExact=!0;nzDestroyInactiveTabPane=!1;nzSelectChange=new x(!0);nzSelectedIndexChange=new x;nzTabListScroll=new x;nzClose=new x;nzAdd=new x;get position(){return["top","bottom"].indexOf(this.nzTabPosition)===-1?"vertical":"horizontal"}get addable(){return this.nzType==="editable-card"&&!this.nzHideAdd}get closable(){return this.nzType==="editable-card"}get line(){return this.nzType==="line"}get inkBarAnimated(){return this.line&&(typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.inkBar)}get tabPaneAnimated(){return typeof this.nzAnimated=="boolean"?this.nzAnimated:this.nzAnimated.tabPane}allTabs=new de;tabLinks=new de;tabNavBarRef;tabs=new de;extraContents=Je(cn);dir="ltr";tabSetId;destroy$=new ce;indexToSelect=0;selectedIndex=null;tabLabelSubscription=U.EMPTY;tabsSubscription=U.EMPTY;canDeactivateSubscription=U.EMPTY;router=$(lt,{optional:!0});constructor(s,a,l,I){this.nzConfigService=s,this.ngZone=a,this.cdr=l,this.directionality=I,this.tabSetId=Ti++}ngOnInit(){this.dir=this.directionality.value,this.directionality.change?.pipe(V(this.destroy$)).subscribe(s=>{this.dir=s,this.cdr.detectChanges()})}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete(),this.tabs.destroy(),this.tabLabelSubscription.unsubscribe(),this.tabsSubscription.unsubscribe(),this.canDeactivateSubscription.unsubscribe()}ngAfterContentInit(){this.ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this.setUpRouter())}),this.subscribeToTabLabels(),this.subscribeToAllTabChanges(),this.tabsSubscription=this.tabs.changes.subscribe(()=>{if(this.clampTabIndex(this.indexToSelect)===this.selectedIndex){let a=this.tabs.toArray();for(let l=0;l<a.length;l++)if(a[l].isActive){this.indexToSelect=this.selectedIndex=l;break}}this.subscribeToTabLabels(),this.cdr.markForCheck()})}ngAfterContentChecked(){let s=this.indexToSelect=this.clampTabIndex(this.indexToSelect);if(this.selectedIndex!==s){let a=this.selectedIndex==null;a||this.nzSelectChange.emit(this.createChangeEvent(s)),Promise.resolve().then(()=>{this.tabs.forEach((l,I)=>l.setActive(I===s)),a||this.nzSelectedIndexChange.emit(s)})}this.tabs.forEach((a,l)=>{a.position=l-s,this.selectedIndex!=null&&a.position===0&&!a.origin&&(a.origin=s-this.selectedIndex)}),this.selectedIndex!==s&&(this.selectedIndex=s,this.cdr.markForCheck())}onClose(s,a){a.preventDefault(),a.stopPropagation(),this.nzClose.emit({index:s})}onAdd(){this.nzAdd.emit()}clampTabIndex(s){return Math.min(this.tabs.length-1,Math.max(s||0,0))}createChangeEvent(s){let a=new Be;return a.index=s,this.tabs&&this.tabs.length&&(a.tab=this.tabs.toArray()[s],this.tabs.forEach((l,I)=>{I!==s&&l.nzDeselect.emit()}),a.tab.nzSelect.emit()),a}subscribeToTabLabels(){this.tabLabelSubscription&&this.tabLabelSubscription.unsubscribe(),this.tabLabelSubscription=ee(...this.tabs.map(s=>s.stateChanges)).subscribe(()=>this.cdr.markForCheck())}subscribeToAllTabChanges(){this.allTabs.changes.pipe(ye(this.allTabs)).subscribe(s=>{this.tabs.reset(s.filter(a=>a.closestTabSet===this)),this.tabs.notifyOnChanges()})}canDeactivateFun(s,a){return typeof this.nzCanDeactivate=="function"?ut(this.nzCanDeactivate(s,a)).pipe(je(),V(this.destroy$)):j(!0)}clickNavItem(s,a,l){s.nzDisabled||(s.nzClick.emit(),this.isRouterLinkClickEvent(a,l)||this.setSelectedIndex(a))}isRouterLinkClickEvent(s,a){let l=a.target;return this.nzLinkRouter?!!this.tabs.toArray()[s]?.linkDirective?.elementRef.nativeElement.contains(l):!1}contextmenuNavItem(s,a){s.nzDisabled||s.nzContextmenu.emit(a)}setSelectedIndex(s){this.canDeactivateSubscription.unsubscribe(),this.canDeactivateSubscription=this.canDeactivateFun(this.selectedIndex,s).subscribe(a=>{a&&(this.nzSelectedIndex=s,this.tabNavBarRef.focusIndex=s,this.cdr.markForCheck())})}getTabIndex(s,a){return s.nzDisabled?null:this.selectedIndex===a?0:-1}getTabContentId(s){return`nz-tabs-${this.tabSetId}-tab-${s}`}setUpRouter(){if(this.nzLinkRouter){if(!this.router)throw new Error(`${dt} you should import 'RouterModule' if you want to use 'nzLinkRouter'!`);ee(this.router.events.pipe(Xe(s=>s instanceof st)),this.tabLinks.changes).pipe(ye(!0),Ge(0),V(this.destroy$)).subscribe(()=>{this.updateRouterActive(),this.cdr.markForCheck()})}}updateRouterActive(){if(this.router?.navigated){let s=this.findShouldActiveTabIndex();s!==this.selectedIndex&&this.setSelectedIndex(s),Promise.resolve().then(()=>this.nzHideAll=s===-1)}}findShouldActiveTabIndex(){let s=this.tabs.toArray(),a=this.isLinkActive(this.router);return s.findIndex(l=>{let I=l.linkDirective;return I?a(I.routerLink):!1})}isLinkActive(s){return a=>a?!!s?.isActive(a.urlTree||"",{paths:this.nzLinkExact?"exact":"subset",queryParams:this.nzLinkExact?"exact":"subset",fragment:"ignored",matrixParams:"ignored"}):!1}static \u0275fac=function(a){return new(a||ge)(g(mt),g(te),g(he),g(Ee))};static \u0275cmp=B({type:ge,selectors:[["nz-tabset"]],contentQueries:function(a,l,I){if(a&1&&(it(I,l.extraContents,cn,4),X(I,Oe,5),X(I,fn,5)),a&2){ot();let T;F(T=A())&&(l.allTabs=T),F(T=A())&&(l.tabLinks=T)}},viewQuery:function(a,l){if(a&1&&W(Re,5),a&2){let I;F(I=A())&&(l.tabNavBarRef=I.first)}},hostAttrs:[1,"ant-tabs"],hostVars:24,hostBindings:function(a,l){a&2&&w("ant-tabs-card",l.nzType==="card"||l.nzType==="editable-card")("ant-tabs-editable",l.nzType==="editable-card")("ant-tabs-editable-card",l.nzType==="editable-card")("ant-tabs-centered",l.nzCentered)("ant-tabs-rtl",l.dir==="rtl")("ant-tabs-top",l.nzTabPosition==="top")("ant-tabs-bottom",l.nzTabPosition==="bottom")("ant-tabs-left",l.nzTabPosition==="left")("ant-tabs-right",l.nzTabPosition==="right")("ant-tabs-default",l.nzSize==="default")("ant-tabs-small",l.nzSize==="small")("ant-tabs-large",l.nzSize==="large")},inputs:{nzSelectedIndex:"nzSelectedIndex",nzTabPosition:"nzTabPosition",nzTabBarExtraContent:"nzTabBarExtraContent",nzCanDeactivate:"nzCanDeactivate",nzAddIcon:"nzAddIcon",nzTabBarStyle:"nzTabBarStyle",nzType:"nzType",nzSize:"nzSize",nzAnimated:"nzAnimated",nzTabBarGutter:"nzTabBarGutter",nzHideAdd:[2,"nzHideAdd","nzHideAdd",N],nzCentered:[2,"nzCentered","nzCentered",N],nzHideAll:[2,"nzHideAll","nzHideAll",N],nzLinkRouter:[2,"nzLinkRouter","nzLinkRouter",N],nzLinkExact:[2,"nzLinkExact","nzLinkExact",N],nzDestroyInactiveTabPane:[2,"nzDestroyInactiveTabPane","nzDestroyInactiveTabPane",N]},outputs:{nzSelectChange:"nzSelectChange",nzSelectedIndexChange:"nzSelectedIndexChange",nzTabListScroll:"nzTabListScroll",nzClose:"nzClose",nzAdd:"nzAdd"},exportAs:["nzTabset"],features:[at([{provide:zn,useExisting:Ze(()=>ge)}])],decls:4,vars:12,consts:[["tabpaneTmpl",""],[3,"style","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","extraContents"],[1,"ant-tabs-content-holder"],[1,"ant-tabs-content"],[3,"tabScroll","selectFocusedIndex","addClicked","selectedIndex","inkBarAnimated","addable","addIcon","hideBar","position","extraTemplate","extraContents"],[1,"ant-tabs-tab",3,"margin-right","margin-bottom","ant-tabs-tab-active","ant-tabs-tab-disabled"],[1,"ant-tabs-tab",3,"click","contextmenu"],["type","button","role","tab","nzTabNavItem","","cdkMonitorElementFocus","",1,"ant-tabs-tab-btn",3,"id","disabled","tab","active"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],["type","button","nz-tab-close-button","",3,"closeIcon"],["type","button","nz-tab-close-button","",3,"click","closeIcon"],[3,"ngTemplateOutlet"],["role","tabpanel","nz-tab-body","",3,"id","active","content","animated"]],template:function(a,l){a&1&&(b(0,ii,3,10,"nz-tabs-nav",1),m(1,"div",2)(2,"div",3),b(3,hi,2,0),p()()),a&2&&(D(l.tabs.length||l.addable?0:-1),c(2),w("ant-tabs-content-top",l.nzTabPosition==="top")("ant-tabs-content-bottom",l.nzTabPosition==="bottom")("ant-tabs-content-left",l.nzTabPosition==="left")("ant-tabs-content-right",l.nzTabPosition==="right")("ant-tabs-content-animated",l.tabPaneAnimated),c(),D(l.nzHideAll?-1:3))},dependencies:[Re,fe,bn,Yt,Ht,le,se,hn,fi],encapsulation:2})}})();var _n=(()=>{class i{static \u0275fac=function(t){return new(t||i)};static \u0275mod=et({type:i});static \u0275inj=qe({imports:[Pe,Re,Me,Ce,hn]})}return i})();var gn=()=>({minRows:3}),Le=(i,r)=>r.id;function xi(i,r){if(i&1&&S(0,"nz-option",7),i&2){let e=r.$implicit;d("nzValue",e.year)("nzLabel",`\u0633\u0627\u0644 ${e.year}`)}}function Si(i,r){if(i&1){let e=E();m(0,"nz-col",11)(1,"nz-form-item")(2,"nz-form-label",21),C(3),p(),m(4,"nz-form-control")(5,"nz-input-group",22)(6,"div",23)(7,"button",24),y("click",function(){let n=z(e).$implicit,o=h();return _(o.setSign(n.id,1))}),C(8," + "),p(),m(9,"button",25),y("click",function(){let n=z(e).$implicit,o=h();return _(o.setSign(n.id,-1))}),C(10," - "),p(),S(11,"input",26),p()()()()()}if(i&2){let e,t,n=r.$implicit,o=h();d("nzMd",12)("nzXs",24)("formGroupName","dynamic_"+n.id),c(2),d("title",n.description),c(),we(o.getFieldPrefix(n.id)+n.name),c(4),w("active",((e=o.getSignControl(n.id))==null?null:e.value)===1),c(2),w("active",((t=o.getSignControl(n.id))==null?null:t.value)===-1)}}function Ii(i,r){if(i&1&&S(0,"nz-option",7),i&2){let e=r.$implicit;d("nzValue",e.id)("nzLabel",e.name)}}function Ni(i,r){if(i&1&&S(0,"nz-option",7),i&2){let e=r.$implicit;d("nzValue",e.year)("nzLabel",`\u0633\u0627\u0644 ${e.year}`)}}function wi(i,r){if(i&1){let e=E();m(0,"nz-col",20)(1,"nz-form-item")(2,"nz-form-label",21),C(3),p(),m(4,"nz-form-control")(5,"nz-input-group",22)(6,"div",23)(7,"button",24),y("click",function(){let n=z(e).$implicit,o=h();return _(o.setSign(n.id,1))}),C(8," + "),p(),m(9,"button",25),y("click",function(){let n=z(e).$implicit,o=h();return _(o.setSign(n.id,-1))}),C(10," - "),p(),S(11,"input",26),p()()()()()}if(i&2){let e,t,n=r.$implicit,o=h();d("nzSpan",12)("formGroupName","dynamic_"+n.id),c(2),d("title",n.description),c(),we(o.getFieldPrefix(n.id)+n.name),c(4),w("active",((e=o.getSignControl(n.id))==null?null:e.value)===1),c(2),w("active",((t=o.getSignControl(n.id))==null?null:t.value)===-1)}}var Cn=class i{constructor(r,e){this.fb=r;this.financialYearStore=e;this.financialYearVm=this.financialYearStore.vm,this.mainForm=this.fb.group({financialYear:[this.financialYearVm().selectedYear,[Z.required]],municipalityZone:[null,[Z.required]],description:[""]})}mainForm;dynamicFields=[];fieldToAddControl=new Et(null);addedFields=[];optionalFields=[];financialYearVm;ngOnInit(){this.loadAllFields()}get availableFields(){return this.optionalFields.filter(r=>!this.addedFields.some(e=>e.id===r.id))}addFormControlForField(r){let e=this.fb.group({value:[null,[Z.required,Z.min(0)]],sign:[1,[Z.required]]});this.mainForm.addControl(`dynamic_${r.id}`,e)}addField(){let r=this.fieldToAddControl.value;if(!r)return;let e=this.optionalFields.find(t=>t.id===r);e&&(this.addedFields.push(e),this.addFormControlForField(e),this.fieldToAddControl.reset())}loadAllFields(){let r=j([{name:"\u0628\u062F\u0647\u06A9\u0627\u0631\u06CC \u0633\u0647\u0645 \u0627\u062A\u0648\u0628\u0648\u0633\u200C\u0631\u0627\u0646\u06CC",description:"...",id:1},{name:"\u0628\u062F\u0647\u06A9\u0627\u0631\u06CC \u062A\u0633\u0647\u06CC\u0644\u0627\u062A",description:"...",id:2}]),e=j([{name:"\u0633\u0647\u0645 \u0645\u062A\u0645\u0631\u06A9\u0632 (\u0628\u062F\u0647\u06A9\u0627\u0631/\u0628\u0633\u062A\u0627\u0646\u06A9\u0627\u0631)",description:"...",id:3},{name:"\u0633\u0627\u06CC\u0631 \u062D\u0633\u0627\u0628\u200C\u0647\u0627",description:"...",id:4},{name:"\u062C\u0631\u0627\u0626\u0645",description:"...",id:5}]);Ye({initial:r,optional:e}).subscribe(({initial:t,optional:n})=>{this.addedFields=t,this.addedFields.forEach(o=>{this.addFormControlForField(o)}),this.optionalFields=n})}getSignControl(r){return this.mainForm.get(`dynamic_${r}.sign`)}setSign(r,e){this.getSignControl(r)?.setValue(e)}save(){if(this.mainForm.valid){let r={financialYear:this.mainForm.value.financialYear,municipalityZone:this.mainForm.value.municipalityZone,description:this.mainForm.value.description},e=this.dynamicFields.map(n=>{let o=this.mainForm.value[`dynamic_${n.id}`];return{id:n.id,value:o.value*o.sign}}),t=Ve(We({},r),{fields:e});console.log("Form is valid. Payload to send:",t)}else console.log("Form is invalid."),Object.values(this.mainForm.controls).forEach(r=>{r.invalid&&(r.markAsDirty(),r.updateValueAndValidity({onlySelf:!0}))})}getFieldPrefix(r){return this.getSignControl(r)?.value===1?"\u0628\u0633\u062A\u0627\u0646\u06A9\u0627\u0631\u06CC ":"\u0628\u062F\u0647\u06A9\u0627\u0631\u06CC "}static \u0275fac=function(e){return new(e||i)(g(Vt),g(Zt))};static \u0275cmp=B({type:i,selectors:[["app-beginning-period-balance"]],decls:82,vars:24,consts:[[1,"container"],["nzTitle","\u0645\u0627\u0646\u062F\u0647 \u0627\u0628\u062A\u062F\u0627\u06CC \u062F\u0648\u0631\u0647 \u0645\u0646\u0627\u0637\u0642"],[1,"tab-description"],["nz-form","","nzLayout","vertical",3,"ngSubmit","formGroup"],[3,"nzGutter"],[3,"nzMd","nzXs"],["formControlName","financialYear","nzPlaceHolder","\u0627\u0646\u062A\u062E\u0627\u0628"],[3,"nzValue","nzLabel"],["formControlName","municipalityZone","nzPlaceHolder","\u0627\u0646\u062A\u062E\u0627\u0628"],["nzValue","zone1","nzLabel","\u0645\u0646\u0637\u0642\u0647 \u06F1"],["nzValue","zone2","nzLabel","\u0645\u0646\u0637\u0642\u0647 \u06F2"],[3,"nzMd","nzXs","formGroupName"],["nzText","\u0627\u0641\u0632\u0648\u062F\u0646 \u0641\u06CC\u0644\u062F \u0627\u0632 \u0633\u0631\u0641\u0635\u0644 \u062D\u0633\u0627\u0628\u062F\u0627\u0631\u06CC","nzOrientation","left"],["nzPlaceHolder","\u06CC\u06A9 \u0641\u06CC\u0644\u062F \u0628\u0631\u0627\u06CC \u0627\u0641\u0632\u0648\u062F\u0646 \u0627\u0646\u062A\u062E\u0627\u0628 \u06A9\u0646\u06CC\u062F",3,"formControl"],["nz-button","","type","button",2,"width","100%",3,"click","disabled"],["nz-icon","","nzType","plus"],[3,"nzSpan"],["nz-input","","formControlName","description",3,"nzAutosize"],["nz-button","","nzType","primary","htmlType","submit"],["nzTitle","\u0645\u0627\u0646\u062F\u0647 \u0627\u0628\u062A\u062F\u0627\u06CC \u062F\u0648\u0631\u0647 \u0633\u0627\u0632\u0645\u0627\u0646 \u0647\u0627"],[3,"nzSpan","formGroupName"],[3,"title"],["nzCompact",""],[1,"sign-input-row"],["type","button","nz-button","","nz-tooltip","","nzTooltipTitle","\u0628\u0633\u062A\u0627\u0646\u06A9\u0627\u0631\u06CC",1,"sign-button",3,"click"],["type","button","nz-button","","nz-tooltip","","nzTooltipTitle","\u0628\u062F\u0647\u06A9\u0627\u0631\u06CC",1,"sign-button",3,"click"],["nz-input","","type","number","min","0","formControlName","value","placeholder","\u0645\u0628\u0644\u063A \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F(\u0631\u06CC\u0627\u0644)"]],template:function(e,t){e&1&&(m(0,"div",0)(1,"nz-tabset")(2,"nz-tab",1)(3,"p",2),C(4," \u062B\u0628\u062A \u0645\u0627\u0646\u062F\u0647 \u0628\u062F\u0647\u06A9\u0627\u0631\u06CC \u0633\u0647\u0645 \u0627\u062A\u0648\u0628\u0648\u0633\u200C\u0631\u0627\u0646\u06CC\u060C \u062A\u0633\u0647\u06CC\u0644\u0627\u062A \u0648 \u0633\u0647\u0645 \u0645\u062A\u0645\u0631\u06A9\u0632 \u0628\u0631\u0627\u06CC \u0647\u0631 \u0645\u0646\u0637\u0642\u0647 "),p(),m(5,"form",3),y("ngSubmit",function(){return t.save()}),m(6,"nz-row",4)(7,"nz-col",5)(8,"nz-form-item")(9,"nz-form-label"),C(10,"\u0633\u0627\u0644 \u0645\u0627\u0644\u06CC"),p(),m(11,"nz-form-control")(12,"nz-select",6),M(13,xi,1,2,"nz-option",7,Y),p()()()(),m(15,"nz-col",5)(16,"nz-form-item")(17,"nz-form-label"),C(18,"\u0645\u0646\u0637\u0642\u0647 \u0634\u0647\u0631\u062F\u0627\u0631\u06CC"),p(),m(19,"nz-form-control")(20,"nz-select",8),S(21,"nz-option",9)(22,"nz-option",10),p()()()()(),m(23,"nz-row",4),M(24,Si,12,9,"nz-col",11,Le),p(),S(26,"nz-divider",12),m(27,"nz-row",4)(28,"nz-col",5)(29,"nz-form-item")(30,"nz-form-control")(31,"nz-select",13),M(32,Ii,1,2,"nz-option",7,Le),p()()()(),m(34,"nz-col",5)(35,"button",14),y("click",function(){return t.addField()}),S(36,"span",15),C(37," \u0627\u0641\u0632\u0648\u062F\u0646 "),p()()(),m(38,"nz-row")(39,"nz-col",16)(40,"nz-form-item")(41,"nz-form-label"),C(42,"\u062A\u0648\u0636\u06CC\u062D\u0627\u062A"),p(),m(43,"nz-form-control"),S(44,"textarea",17),p()()()(),m(45,"nz-form-item")(46,"nz-form-control")(47,"button",18),C(48,"\u0630\u062E\u06CC\u0631\u0647"),p()()()()(),m(49,"nz-tab",19)(50,"p",2),C(51," \u062B\u0628\u062A \u0645\u0627\u0646\u062F\u0647 \u0628\u062F\u0647\u06A9\u0627\u0631\u06CC \u0633\u0647\u0645 \u0627\u062A\u0648\u0628\u0648\u0633\u200C\u0631\u0627\u0646\u06CC\u060C \u062A\u0633\u0647\u06CC\u0644\u0627\u062A \u0648 \u0633\u0647\u0645 \u0645\u062A\u0645\u0631\u06A9\u0632 \u0628\u0631\u0627\u06CC \u0647\u0631 \u0633\u0627\u0632\u0645\u0627\u0646 "),p(),m(52,"form",3),y("ngSubmit",function(){return t.save()}),m(53,"nz-row",4)(54,"nz-col",16)(55,"nz-form-item")(56,"nz-form-label"),C(57,"\u0633\u0627\u0644 \u0645\u0627\u0644\u06CC"),p(),m(58,"nz-form-control")(59,"nz-select",6),M(60,Ni,1,2,"nz-option",7,Y),p()()()(),m(62,"nz-col",16)(63,"nz-form-item")(64,"nz-form-label"),C(65,"\u0645\u0646\u0637\u0642\u0647 \u0634\u0647\u0631\u062F\u0627\u0631\u06CC"),p(),m(66,"nz-form-control")(67,"nz-select",8),S(68,"nz-option",9)(69,"nz-option",10),p()()()(),M(70,wi,12,8,"nz-col",20,Le),m(72,"nz-col",16)(73,"nz-form-item")(74,"nz-form-label"),C(75,"\u062A\u0648\u0636\u06CC\u062D\u0627\u062A"),p(),m(76,"nz-form-control"),S(77,"textarea",17),p()()()(),m(78,"nz-form-item")(79,"nz-form-control")(80,"button",18),C(81,"\u0630\u062E\u06CC\u0631\u0647"),p()()()()()()()),e&2&&(c(5),d("formGroup",t.mainForm),c(),d("nzGutter",24),c(),d("nzMd",12)("nzXs",24),c(6),R(t.financialYearVm().years),c(2),d("nzMd",12)("nzXs",24),c(8),d("nzGutter",24),c(),R(t.addedFields),c(3),d("nzGutter",8),c(),d("nzMd",18)("nzXs",24),c(3),d("formControl",t.fieldToAddControl),c(),R(t.availableFields),c(2),d("nzMd",6)("nzXs",24),c(),d("disabled",!t.fieldToAddControl.value),c(4),d("nzSpan",24),c(5),d("nzAutosize",Q(22,gn)),c(8),d("formGroup",t.mainForm),c(),d("nzGutter",24),c(),d("nzSpan",12),c(6),R(t.financialYearVm().years),c(2),d("nzSpan",12),c(8),R(t.dynamicFields),c(2),d("nzSpan",24),c(5),d("nzAutosize",Q(23,gn)))},dependencies:[rt,$t,Bt,At,Mt,kt,Dt,Wt,Rt,Ot,Lt,Pt,_n,Pe,Oe,ln,It,St,an,on,sn,rn,jt,Qt,Gt,Jt,Ut,Kt,qt,bt,ft,pt,ht,Nt,xt,yt,nn,tn],styles:[".container[_ngcontent-%COMP%]{padding:24px}.tab-description[_ngcontent-%COMP%]{color:#888;margin-bottom:24px}.sign-button[_ngcontent-%COMP%]{font-weight:700;width:40px}.sign-button.active[_ngcontent-%COMP%]{background-color:#1677ff;color:#fff;border-color:#1677ff;z-index:2}.sign-button.active[_ngcontent-%COMP%]:hover{background-color:#4096ff;border-color:#4096ff}.sign-input-row[_ngcontent-%COMP%]{display:flex!important;align-items:center!important;gap:5px}.sign-input-row[_ngcontent-%COMP%]   input[nz-input][_ngcontent-%COMP%]{flex:1}"]})};export{Cn as BeginningPeriodBalanceComponent};
