import{d as it,e as rt,f as at,g as ut,h as lt,i as ct,j as mt}from"./chunk-WYTFVZGD.js";import"./chunk-3E2QIIGP.js";import{b as dt}from"./chunk-G7WMJKSX.js";import"./chunk-PCCVDC54.js";import{d as pt,e as st,f as bt,g as ft,h as Ct}from"./chunk-QQ5W3OX3.js";import"./chunk-J343PKJY.js";import{a as B,b as G}from"./chunk-27X2ETHM.js";import"./chunk-3WV4ME3B.js";import{a as tt,b as et}from"./chunk-IRSTLIJD.js";import{a as Q,b as Y,c as Z}from"./chunk-LNPLAFAF.js";import{a as nt}from"./chunk-RYIR3JHK.js";import{q as J,s as K}from"./chunk-ON4PWNME.js";import"./chunk-JLE7ZRSU.js";import{d as I,e as X,g as j,h as U,k as W,n as H,o as R,q as $,r as q,s as L,z as ot}from"./chunk-73IGM3AO.js";import"./chunk-BGOTPEMH.js";import{f as D,g as P,h as V,i as E}from"./chunk-UOFM454V.js";import{q as N,va as S,w as T,wa as w}from"./chunk-S7H63ZRT.js";import"./chunk-CNUMRFCL.js";import"./chunk-FHD2U5CN.js";import{$b as e,Aa as d,Ac as h,Dc as A,Ec as F,Fb as y,Fc as O,Nb as l,Zb as v,_b as x,ac as n,bc as b,cc as k,dc as M,fc as z,lc as f,mb as a,nc as g,rb as s,za as m,zb as _,zc as i}from"./chunk-PPU4QFJU.js";var gt=(u,t)=>t.id;function ht(u,t){if(u&1){let o=z();e(0,"tr")(1,"td"),i(2),n(),e(3,"td"),i(4),n(),e(5,"td",15)(6,"button",16),i(7," \u0648\u06CC\u0631\u0627\u06CC\u0634 "),n(),e(8,"button",17),f("nzOnConfirm",function(){let c=m(o).$implicit,p=g();return d(p.deleteGroup(c.id))}),i(9," \u062D\u0630\u0641 "),n()()()}if(u&2){let o=t.$implicit;a(2),h(o.name),a(2),h(o.description||"-")}}function _t(u,t){if(u&1&&(k(0),e(1,"form",18)(2,"nz-form-item")(3,"nz-form-label",19),i(4,"\u0646\u0627\u0645 \u06AF\u0631\u0648\u0647"),n(),e(5,"nz-form-control",20),b(6,"input",21),n()(),e(7,"nz-form-item")(8,"nz-form-label",22),i(9,"\u062A\u0648\u0636\u06CC\u062D\u0627\u062A"),n(),e(10,"nz-form-control",22),b(11,"textarea",23),n()()(),M()),u&2){let o=g();a(),l("formGroup",o.validateForm),a(2),l("nzSm",6)("nzXs",24),a(2),l("nzSm",14)("nzXs",24),a(3),l("nzSm",6)("nzXs",24),a(2),l("nzSm",14)("nzXs",24)}}var zt=class u{constructor(t,o,r){this.fb=t;this.notification=o;this.http=r}accountTypes=[];isModalVisible=!1;validateForm;apiUrl=nt.endpoints.bankAccountType;ngOnInit(){this.validateForm=this.fb.group({name:["",[X.required]],description:[""]}),this.getAccountTypes()}getAccountTypes(){this.http.get(this.apiUrl).subscribe({next:t=>{this.accountTypes=t},error:t=>{this.notification.error("\u062E\u0637\u0627","\u062F\u0631\u06CC\u0627\u0641\u062A \u0627\u0637\u0644\u0627\u0639\u0627\u062A \u06AF\u0631\u0648\u0647\u200C\u0647\u0627\u06CC \u062D\u0633\u0627\u0628 \u0628\u0627 \u0645\u0634\u06A9\u0644 \u0645\u0648\u0627\u062C\u0647 \u0634\u062F."),console.error(t)}})}showModal(){this.validateForm.reset(),this.isModalVisible=!0}handleOk(){if(this.validateForm.valid){let t={name:this.validateForm.value.name,description:this.validateForm.value.description||""};this.http.post(this.apiUrl,t).subscribe({next:()=>{this.notification.success("\u0645\u0648\u0641\u0642","\u06AF\u0631\u0648\u0647 \u062C\u062F\u06CC\u062F \u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u0627\u06CC\u062C\u0627\u062F \u0634\u062F."),this.isModalVisible=!1,this.getAccountTypes()},error:o=>{this.notification.error("\u062E\u0637\u0627","\u0627\u06CC\u062C\u0627\u062F \u06AF\u0631\u0648\u0647 \u062C\u062F\u06CC\u062F \u0628\u0627 \u0645\u0634\u06A9\u0644 \u0645\u0648\u0627\u062C\u0647 \u0634\u062F."),console.error(o)}})}else Object.values(this.validateForm.controls).forEach(t=>{t.invalid&&(t.markAsDirty(),t.updateValueAndValidity({onlySelf:!0}))})}handleCancel(){this.isModalVisible=!1}deleteGroup(t){let o=`${this.apiUrl}${t}/`;this.http.delete(o).subscribe({next:()=>{this.notification.info("\u062D\u0630\u0641 \u0634\u062F","\u06AF\u0631\u0648\u0647 \u062D\u0630\u0641 \u06AF\u0631\u062F\u06CC\u062F."),this.getAccountTypes()},error:r=>{this.notification.error("\u062E\u0637\u0627","\u062D\u0630\u0641 \u06AF\u0631\u0648\u0647 \u0628\u0627 \u0645\u0634\u06A9\u0644 \u0645\u0648\u0627\u062C\u0647 \u0634\u062F."),console.error(r)}})}static \u0275fac=function(o){return new(o||u)(s($),s(ot),s(T))};static \u0275cmp=_({type:u,selectors:[["app-bank-account-group"]],decls:32,vars:5,consts:[["groupTable",""],[1,"financial-year-page"],[1,"page-header"],["nz-button","","nzType","primary","nzShape","round",3,"click"],["nz-icon","","nzType","plus"],[1,"custom-card"],[1,"custom-card__header"],[1,"custom-card__title"],[1,"custom-card__subtitle"],[1,"custom-card__body"],[1,"financial-table",3,"nzData","nzSize"],[2,"width","30%"],[1,"actions-header"],["nzTitle","\u0627\u06CC\u062C\u0627\u062F \u06AF\u0631\u0648\u0647 \u062D\u0633\u0627\u0628 \u062C\u062F\u06CC\u062F",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible","nzOkText","nzCancelText"],[4,"nzModalContent"],[1,"actions"],["nz-button","","nzShape","round","nzType","primary","nzSize","small"],["nz-button","","nzDanger","","nzShape","round","nzType","primary","nzSize","small","nz-popconfirm","","nzPopconfirmTitle","\u0622\u06CC\u0627 \u0627\u0632 \u062D\u0630\u0641 \u0627\u06CC\u0646 \u0628\u0627\u0646\u06A9 \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062A\u06CC\u062F\u061F",3,"nzOnConfirm"],["nz-form","",1,"modal-form",3,"formGroup"],["nzRequired","",3,"nzSm","nzXs"],["nzErrorTip","\u0644\u0637\u0641\u0627 \u0646\u0627\u0645 \u06AF\u0631\u0648\u0647 \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F!",3,"nzSm","nzXs"],["nz-input","","formControlName","name","placeholder","\u0645\u062B\u0644\u0627 \u062D\u0633\u0627\u0628\u200C\u0647\u0627\u06CC \u062C\u0627\u0631\u06CC"],[3,"nzSm","nzXs"],["nz-input","","formControlName","description","placeholder","(\u0627\u062E\u062A\u06CC\u0627\u0631\u06CC)"]],template:function(o,r){if(o&1){let c=z();e(0,"div",1)(1,"div",2)(2,"div")(3,"h1"),i(4,"\u0645\u062F\u06CC\u0631\u06CC\u062A \u06AF\u0631\u0648\u0647 \u062D\u0633\u0627\u0628 \u0628\u0627\u0646\u06A9\u06CC"),n(),e(5,"p"),i(6,"\u062A\u0639\u0631\u06CC\u0641 \u0648 \u0645\u062F\u06CC\u0631\u06CC\u062A \u06AF\u0631\u0648\u0647\u200C\u0647\u0627\u06CC \u062D\u0633\u0627\u0628 \u0628\u0627\u0646\u06A9\u06CC"),n()(),e(7,"button",3),f("click",function(){return m(c),d(r.showModal())}),b(8,"span",4),i(9," \u06AF\u0631\u0648\u0647 \u062C\u062F\u06CC\u062F "),n()(),e(10,"div",5)(11,"div",6)(12,"h2",7),i(13,"\u0644\u06CC\u0633\u062A \u06AF\u0631\u0648\u0647\u200C\u0647\u0627"),n(),e(14,"p",8),i(15,"\u062A\u0645\u0627\u0645 \u06AF\u0631\u0648\u0647\u200C\u0647\u0627\u06CC \u062A\u0639\u0631\u06CC\u0641 \u0634\u062F\u0647 \u062F\u0631 \u0633\u06CC\u0633\u062A\u0645"),n()(),e(16,"div",9)(17,"nz-table",10,0)(19,"thead")(20,"tr")(21,"th",11),i(22,"\u0646\u0627\u0645 \u06AF\u0631\u0648\u0647"),n(),e(23,"th"),i(24,"\u062A\u0648\u0636\u06CC\u062D\u0627\u062A"),n(),e(25,"th",12),i(26,"\u0639\u0645\u0644\u06CC\u0627\u062A"),n()()(),e(27,"tbody"),v(28,ht,10,2,"tr",null,gt),n()()()()(),e(30,"nz-modal",13),O("nzVisibleChange",function(C){return m(c),F(r.isModalVisible,C)||(r.isModalVisible=C),d(C)}),f("nzOnCancel",function(){return m(c),d(r.handleCancel())})("nzOnOk",function(){return m(c),d(r.handleOk())}),y(31,_t,12,9,"ng-container",14),n()}o&2&&(a(17),l("nzData",r.accountTypes)("nzSize","middle"),a(11),x(r.accountTypes),a(2),A("nzVisible",r.isModalVisible),l("nzOkText","\u0627\u06CC\u062C\u0627\u062F")("nzCancelText","\u0627\u0646\u0635\u0631\u0627\u0641"))},dependencies:[N,q,W,I,j,U,L,H,R,mt,ut,it,rt,ct,at,lt,E,V,D,P,w,S,Z,Y,Q,Ct,G,B,st,pt,ft,bt,K,J,et,tt,dt],styles:[".ant-modal-content{background-color:#001529!important}  .ant-modal-header{background-color:#001529!important;border-bottom:1px solid #334155}  .ant-modal-header .ant-modal-title{color:#e2e8f0}  .ant-modal-close-x{color:#94a3b8}  .ant-modal-body p{color:#94a3b8}  .ant-modal-body label{color:#94a3b8}  .ant-modal-body input,   .ant-modal-body textarea{background-color:#1e293b!important;color:#e2e8f0!important;border:1px solid #334155!important;border-radius:4px!important}  .ant-modal-body input::placeholder,   .ant-modal-body textarea::placeholder{color:#94a3b8;opacity:.7}  .ant-modal-body input:focus,   .ant-modal-body input:focus-within,   .ant-modal-body textarea:focus,   .ant-modal-body textarea:focus-within{border-color:#38bdf8!important;outline:none!important;box-shadow:0 0 0 2px #38bdf833!important}  .ant-modal-footer{background-color:#001529;border-top:1px solid #334155}  .ant-modal-footer .ant-btn-primary{background-color:#38bdf8;border-color:#38bdf8;color:#0f172a}  .ant-modal-footer .ant-btn-primary:hover,   .ant-modal-footer .ant-btn-primary:focus{background-color:#7dd3fc;border-color:#7dd3fc}  .ant-modal-footer .ant-btn{background-color:transparent;border-color:#334155;color:#e2e8f0}  .ant-modal-footer .ant-btn:hover,   .ant-modal-footer .ant-btn:focus{border-color:#38bdf8;color:#38bdf8}.financial-year-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:2rem;padding:2rem;border-radius:8px}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0;font-size:1.75rem;font-weight:600;color:#f1f5f9}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:.25rem 0 0;color:#94a3b8}.custom-card[_ngcontent-%COMP%]{background-color:#001529;border:1px solid rgba(255,255,255,.1);border-radius:8px}.custom-card__header[_ngcontent-%COMP%]{padding:1.5rem 1.5rem 1rem;border-bottom:1px solid rgba(255,255,255,.1)}.custom-card__title[_ngcontent-%COMP%]{margin:0;color:#f1f5f9;font-size:1.1rem;font-weight:500}.custom-card__subtitle[_ngcontent-%COMP%]{margin:.5rem 0 0;color:#94a3b8}.custom-card__body[_ngcontent-%COMP%]{padding:1.5rem}.financial-table[_ngcontent-%COMP%]     .ant-table-content{scrollbar-width:thin;scrollbar-color:#555 #001529;overflow-x:auto}.financial-table[_ngcontent-%COMP%]     .ant-table-content::-webkit-scrollbar{width:8px}.financial-table[_ngcontent-%COMP%]     .ant-table-content::-webkit-scrollbar-track{background:#001529;border-radius:4px}.financial-table[_ngcontent-%COMP%]     .ant-table-content::-webkit-scrollbar-thumb{background-color:#555;border-radius:4px;border:2px solid #001529}.financial-table[_ngcontent-%COMP%]     .ant-table-content::-webkit-scrollbar-thumb:hover{background-color:#888}.financial-table[_ngcontent-%COMP%]     .ant-table-wrapper{background:transparent}.financial-table[_ngcontent-%COMP%]     .ant-table-thead>tr>th{background-color:#001e3a;color:#cbd5e1;border-bottom:1px solid rgba(255,255,255,.2);text-align:right}.financial-table[_ngcontent-%COMP%]     .ant-table-tbody>tr:nth-child(2n)>td{background-color:#002541}.financial-table[_ngcontent-%COMP%]     .ant-table-tbody>tr:nth-child(odd)>td{background-color:#002c4e}.financial-table[_ngcontent-%COMP%]     .ant-table-tbody>tr:hover>td{background-color:#002a52}.financial-table[_ngcontent-%COMP%]     .ant-table-tbody>tr td{background-color:transparent;color:#e2e8f0;border-bottom:1px solid rgba(255,255,255,.1);text-align:right;transition:background-color .2s}.financial-table[_ngcontent-%COMP%]     td .ant-btn{margin-left:.5rem}.actions[_ngcontent-%COMP%]{display:flex;align-items:center;flex-wrap:nowrap}"]})};export{zt as BankAccountGroupComponent};
