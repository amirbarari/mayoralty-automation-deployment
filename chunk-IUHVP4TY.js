import{a as j}from"./chunk-SHXU4ZB7.js";import{a as H,b as L}from"./chunk-3FLYII2L.js";import{a as Q,b as R}from"./chunk-M7BDISBG.js";import{a as q,b as G,c as J}from"./chunk-S6C6MKMF.js";import"./chunk-DEEABJD6.js";import"./chunk-UQPNZCHR.js";import{m as D,o as I}from"./chunk-PZ3WQJJL.js";import{b as K}from"./chunk-R7V4VY4G.js";import{O as $,S as B,aa as W}from"./chunk-WURTGZ7Q.js";import{f as V,g as k,h as E,i as A}from"./chunk-4RJVJPSO.js";import{r as P,xa as S,ya as T}from"./chunk-7PNVVBYH.js";import"./chunk-MHGKYAZL.js";import"./chunk-FHD2U5CN.js";import{Ca as p,Da as f,Fb as M,Fc as o,Hc as Y,Jc as w,Kc as x,Lb as g,Lc as N,Sa as _,Tb as z,ac as F,dc as y,ec as b,fc as t,gc as i,hc as c,ic as v,jc as O,lc as h,ra as d,rb as m,rc as s,tc as C}from"./chunk-Q7WSBUFH.js";var X=(u,e)=>e.year;function Z(u,e){if(u&1){let n=h();t(0,"div",10)(1,"span"),o(2),i(),t(3,"button",14),s("nzOnConfirm",function(){let r=p(n).$implicit,l=C();return f(l.deleteYear(r.year))}),c(4,"span",15),i()()}if(u&2){let n=e.$implicit;m(2),Y("\u0633\u0627\u0644 : ",n.year,"")}}function ee(u,e){u&1&&c(0,"nz-empty",11)}function ne(u,e){if(u&1){let n=h();v(0),t(1,"div",16)(2,"p"),o(3,"\u0644\u0637\u0641\u0627 \u0633\u0627\u0644 \u0645\u0627\u0644\u06CC \u0645\u0648\u0631\u062F \u0646\u0638\u0631 \u062E\u0648\u062F \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F."),i(),t(4,"nz-input-number",17),s("ngModelChange",function(r){p(n);let l=C();return f(l.onChangeYear(r))}),i()(),O()}if(u&2){let n=C();m(4),z("ngModel",n.newFinancialYear())("nzMin",1400)("nzMax",1500)("nzStep",1)}}var U=class u{store=d(j);notification=d(K);vm=this.store.vm;isModalVisible=_(!1);newFinancialYear=_(null);ngOnInit(){this.store.loadYears()}showModal(){this.newFinancialYear.set(null),this.isModalVisible.set(!0)}handleOk(){let e=this.newFinancialYear();if(!e){this.notification.error("\u062E\u0637\u0627","\u0644\u0637\u0641\u0627 \u0633\u0627\u0644 \u0645\u0627\u0644\u06CC \u0631\u0627 \u0648\u0627\u0631\u062F \u06A9\u0646\u06CC\u062F.");return}if(this.vm().years.some(n=>n.year===this.newFinancialYear())){this.notification.warning("\u062A\u06A9\u0631\u0627\u0631\u06CC",`\u0633\u0627\u0644 \u0645\u0627\u0644\u06CC ${e} \u0642\u0628\u0644\u0627 \u062B\u0628\u062A \u0634\u062F\u0647 \u0627\u0633\u062A.`);return}e!==null&&this.store.addYear(e,{success:()=>{this.notification.success("\u0645\u0648\u0641\u0642",`\u0633\u0627\u0644 \u0645\u0627\u0644\u06CC ${e} \u0628\u0627 \u0645\u0648\u0641\u0642\u06CC\u062A \u0627\u0641\u0632\u0648\u062F\u0647 \u0634\u062F.`),this.isModalVisible.set(!1)},error:()=>{this.notification.error("\u062E\u0637\u0627","\u0627\u0641\u0632\u0648\u062F\u0646 \u0633\u0627\u0644 \u0645\u0627\u0644\u06CC \u0628\u0627 \u0645\u0634\u06A9\u0644 \u0645\u0648\u0627\u062C\u0647 \u0634\u062F.")}})}handleCancel(){this.isModalVisible.set(!1)}deleteYear(e){this.store.deleteYear(e,{success:()=>{this.notification.info("\u062D\u0630\u0641 \u0634\u062F",`\u0633\u0627\u0644 \u0645\u0627\u0644\u06CC ${e} \u062D\u0630\u0641 \u06AF\u0631\u062F\u06CC\u062F.`)},error:()=>{this.notification.error("\u062E\u0637\u0627",`\u062D\u0630\u0641 \u0633\u0627\u0644 \u0645\u0627\u0644\u06CC ${e} \u0628\u0627 \u0645\u0634\u06A9\u0644 \u0645\u0648\u0627\u062C\u0647 \u0634\u062F.`)}})}onChangeYear(e){this.newFinancialYear.set(e)}static \u0275fac=function(n){return new(n||u)};static \u0275cmp=M({type:u,selectors:[["app-financial-year"]],decls:23,vars:5,consts:[[1,"financial-year-page"],[1,"page-header"],["nz-button","","nzType","primary","nzShape","round",3,"click"],["nz-icon","","nzType","plus"],[1,"custom-card"],[1,"custom-card__header"],[1,"custom-card__title"],[1,"custom-card__subtitle"],[1,"custom-card__body"],[1,"year-tags-container"],[1,"year-tag"],["nzNotFoundContent","\u062F\u0631 \u062D\u0627\u0644 \u062D\u0627\u0636\u0631 \u0647\u06CC\u0686 \u0633\u0627\u0644 \u0645\u0627\u0644\u06CC \u062A\u0639\u0631\u06CC\u0641 \u0646\u0634\u062F\u0647 \u0627\u0633\u062A."],["nzTitle","\u0627\u06CC\u062C\u0627\u062F \u0633\u0627\u0644 \u0645\u0627\u0644\u06CC \u062C\u062F\u06CC\u062F",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible","nzOkText","nzCancelText","nzOkDisabled"],[4,"nzModalContent"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","\u0622\u06CC\u0627 \u0627\u0632 \u062D\u0630\u0641 \u0627\u06CC\u0646 \u0633\u0627\u0644 \u0645\u0627\u0644\u06CC \u0645\u0637\u0645\u0626\u0646 \u0647\u0633\u062A\u06CC\u062F\u061F","nzShape","circle","nzSize","small","nzDanger","",1,"delete-btn",3,"nzOnConfirm"],["nz-icon","","nzType","delete"],[1,"modal-content"],["nzPlaceHolder","\u0645\u062B\u0644\u0627 \u06F1\u06F4\u06F0\u06F3",2,"width","100%",3,"ngModelChange","ngModel","nzMin","nzMax","nzStep"]],template:function(n,a){n&1&&(t(0,"div",0)(1,"div",1)(2,"div")(3,"h1"),o(4,"\u0645\u062F\u06CC\u0631\u06CC\u062A \u0633\u0627\u0644 \u0645\u0627\u0644\u06CC"),i(),t(5,"p"),o(6,"\u062A\u0639\u0631\u06CC\u0641 \u0648 \u0645\u062F\u06CC\u0631\u06CC\u062A \u0633\u0627\u0644\u200C\u0647\u0627\u06CC \u0645\u0627\u0644\u06CC \u0633\u06CC\u0633\u062A\u0645"),i()(),t(7,"button",2),s("click",function(){return a.showModal()}),c(8,"span",3),o(9," \u0633\u0627\u0644 \u0645\u0627\u0644\u06CC \u062C\u062F\u06CC\u062F "),i()(),t(10,"div",4)(11,"div",5)(12,"h2",6),o(13,"\u0644\u06CC\u0633\u062A \u0633\u0627\u0644\u200C\u0647\u0627\u06CC \u0645\u0627\u0644\u06CC"),i(),t(14,"p",7),o(15,"\u062A\u0645\u0627\u0645 \u0633\u0627\u0644\u200C\u0647\u0627\u06CC \u0645\u0627\u0644\u06CC \u062A\u0639\u0631\u06CC\u0641 \u0634\u062F\u0647 \u062F\u0631 \u0633\u06CC\u0633\u062A\u0645"),i()(),t(16,"div",8)(17,"div",9),y(18,Z,5,1,"div",10,X),g(20,ee,1,0,"nz-empty",11),i()()()(),t(21,"nz-modal",12),N("nzVisibleChange",function(l){return x(a.isModalVisible,l)||(a.isModalVisible=l),l}),s("nzOnCancel",function(){return a.handleCancel()})("nzOnOk",function(){return a.handleOk()}),g(22,ne,5,4,"ng-container",13),i()),n&2&&(m(18),b(a.vm().years),m(2),F(a.vm().years.length===0?20:-1),m(),w("nzVisible",a.isModalVisible),z("nzOkText","\u0627\u06CC\u062C\u0627\u062F")("nzCancelText","\u0627\u0646\u0635\u0631\u0627\u0641")("nzOkDisabled",!a.vm().years))},dependencies:[P,W,$,B,A,E,V,k,T,S,L,H,R,Q,I,D,J,G,q],styles:[".financial-year-page[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem;height:100%}.page-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2.3rem;font-weight:600;margin:0}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:2rem;margin-top:.25rem}.custom-card[_ngcontent-%COMP%]{border-radius:.75rem;padding:1.5rem;flex:1;min-height:20rem}.custom-card__header[_ngcontent-%COMP%]{margin-bottom:1.5rem}.custom-card__title[_ngcontent-%COMP%]{font-size:1.8rem;font-weight:600;margin:0}.custom-card__subtitle[_ngcontent-%COMP%]{font-size:1.5rem;margin-top:.25rem}.year-tags-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:1rem}.year-tag[_ngcontent-%COMP%]{display:inline-flex;gap:1rem;align-items:center;justify-content:center;padding:1rem 2rem;border-radius:9999px;font-weight:500;font-size:1.4rem;transition:all .2s ease-in-out;background-color:var(--card-bg-color)}.year-tag[_ngcontent-%COMP%]   .delete-btn[_ngcontent-%COMP%]{display:none}.year-tag[_ngcontent-%COMP%]:hover   .delete-btn[_ngcontent-%COMP%]{display:block}nz-empty[_ngcontent-%COMP%]{margin:2rem auto}"]})};export{U as FinancialYearComponent};
